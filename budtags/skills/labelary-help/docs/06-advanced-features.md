<!-- Source: Labelary API Documentation -->
<!-- Section: Advanced Features -->
<!-- Generated: 2025-11-02 19:43:59 -->

# 6. Advanced Features

Some advanced features provided by the Labelary API:

## 6.1. Rotate labels

Your ZPL template already defines a label rotation / orientation. Sometimes, however, the label orientation that is most suitable for your printer is not the orientation that you'd like to use during format conversion.

If this is the case, you can ask Labelary to rotate the label image by adding a `X-Rotation` HTTP header to the request. The value of this header should be the number of degrees to rotate the label clockwise, and may be one of `0`, `90`, `180` or `270`.

## 6.2. PDF with multiple labels

When requesting a PNG image, you can only get one label back at a time, even if your ZPL defines multiple labels. However, PDF files can contain more than one label. If you are requesting a PDF file and you would like it to contain all of the labels defined in your ZPL template, simply omit the index parameter from the request URL.

For example, instead of sending your request to this URL, which returns the label at index 0 (the first label):

```
http://api.labelary.com/v1/printers/8dpmm/labels/4x6/0/
```

You can omit the index and instead send your request to this URL:

```
http://api.labelary.com/v1/printers/8dpmm/labels/4x6/
```

Note that this option is only available for PDF requests.

## 6.3. PDF page size and orientation

By default, Labelary generates PDFs whose page size matches the label size. However, you may want to generate PDFs with a different page size. If this is the case, you can add the `X-Page-Size` and `X-Page-Orientation` HTTP headers to your request.

The `X-Page-Size` HTTP header tells Labelary to use a specific PDF page size. Valid values are `Letter`, `Legal`, `A4`, `A5` and `A6`.

The `X-Page-Orientation` HTTP header tells Labelary to use a specific orientation of the specified page size. Valid values are `Portrait` and `Landscape`.

Note that these headers can only be used with PDF requests.

## 6.4. PDF page layout

If you customize the PDF page size, you may also want to include multiple labels on each page. If this is the case, you can add the `X-Page-Layout`, `X-Page-Align` and `X-Page-Vertical-Align` HTTP headers to your request.

The `X-Page-Layout` HTTP header tells Labelary to lay out the labels on the PDF pages in a tabular format. The header value must be in the form `<columns>x<rows>`. For example, a value of `2x3` would generate a PDF file with 6 labels per page, arranged in 2 columns and 3 rows.

The `X-Page-Align` HTTP header tells Labelary how to align the labels horizontally. Valid values are `Left`, `Right`, `Center` and `Justify`. The default value is `Justify`, which distributes extra horizontal whitespace evenly across the page.

The `X-Page-Vertical-Align` HTTP header tells Labelary how to align the labels vertically. Valid values are `Top`, `Bottom`, `Center` and `Justify`. The default value is `Justify`, which distributes extra vertical whitespace evenly across the page.

Note that these headers can only be used with PDF requests.

## 6.5. PDF label border

If you customize the PDF page size, a light dashed border is added around each individual label. This border can be customized using the `X-Label-Border` HTTP request header. Valid values are `Dashed`, `Solid` and `None`. The default value is `Dashed`.

Note that this header can only be used with PDF requests.

## 6.6. How many labels?

Sometimes your ZPL code may define multiple labels. If you want to know how many labels were generated by your ZPL, you can read the value of the `X-Total-Count` HTTP response header returned by Labelary. The value of this header will be accurate regardless of whether you requested that a single label be rendered (as in a PNG conversion) or you requested that all labels be rendered (as in some PDF conversions).

## 6.7. Print quality

By default, Labelary generates 8-bit grayscale PNG images optimized for electronic viewing. However, you can add the `X-Quality` HTTP header to your request in order to customize the quality of the output images. Valid values are `Grayscale` and `Bitonal`.

- **Grayscale** generates 8-bit grayscale images suitable for electronic viewing and printing on high-density printers. This is the default setting.
- **Bitonal** generates 1-bit monochrome images suitable for printing on low-density printers. It also generates smaller files (useful when file size is more important than output quality).

This header is only available for PNG requests.

## 6.8. Linting

It is possible to ask Labelary to check your ZPL for potential errors while rendering the ZPL. This process is known as linting. You can enable the Labelary linter by adding the `X-Linter` HTTP header to your request. Valid values are `On` (to enable the linter), and `Off` (to disable the linter). The linter is disabled by default.

Once the linter is enabled, warnings will be returned in the `X-Warnings` HTTP response header. The maximum number of warnings that will be returned is 20. Additional warnings (if any) will not be returned. Warnings will be returned in pipe-delimited format, and each warning will include 5 attributes:

1. The byte index of the ZPL section which triggered the warning (integer, never empty)
2. The byte size of the ZPL section which triggered the warning (integer, never empty)
3. The name of the ZPL command which triggered the warning (string, may be empty if the warning is not associated with a specific command)
4. The parameter number of the command parameter which triggered the warning (integer, may be empty if the warning is not associated with a specific parameter)
5. The warning message (string, never empty)

As an example, the following HTTP response header indicates that the submitted ZPL generated 2 warnings:

```
X-Warnings: 303|1|^GB|2|Value 1 is less than minimum value 3; used 3 instead|591|3|||Ignored unrecognized content
```

The first warning, starting at byte index 303 and extending for 1 byte, indicates that the second parameter of the `^GB` command used a value that was too small. The second warning, starting at byte index 591 and extending for 3 bytes, indicates that some unrecognized content was found between ZPL commands. The command name and parameter number for the second warning are empty, since the warning was not generated inside any specific ZPL command.

## 6.9. Data Extraction

**EXPERIMENTAL:** This option is experimental and may be removed or significantly changed based on feedback.

In some cases you may wish to extract data from your ZPL for further processing. In these scenarios it is possible to ask Labelary to provide a list of output labels and data fields in JSON format by simply sending an `Accept: application/json` HTTP request header.

The resultant JSON will contain all text displayed on the labels. It will not contain information about lines, rectangles, circles, or other graphics. The output JSON will contain the human-readable text for any barcodes, but will not contain the actual data encoded in the barcode symbols. Barcodes without human-readable text above or below the barcode will therefore not be included in the generated JSON. The order of the data fields in the output JSON will always match the field definition order in the ZPL.

Specific data fields can be found based on:

- Field order, e.g. `response.labels[0].fields[3].data`
- Physical position, e.g. `response.labels[0].fields.find(f => f.x == 50 && f.y == 150).data`
- Pattern matching, e.g. `response.labels[0].fields.find(f => /^[0-9]{5}$/.test(f.data)).data`

Below is an example input ZPL template which defines two labels, each of which contains two data fields, and the corresponding output JSON:

**Input ZPL:**
```zpl
^XA
^FT50,50^A0,50^FDField 1^FS
^FT50,150^A0,50^FDField 2^FS
^XZ
^XA
^FT50,50^A0,50^FDField 3^FS
^FT50,150^A0,50^FDField 4^FS
^XZ
```

**Output JSON:**
```json
{
    "labels": [
        { "fields": [ { "x": 50, "y": 50, "data": "Field 1" }, { "x": 50, "y": 150, "data": "Field 2" } ] },
        { "fields": [ { "x": 50, "y": 50, "data": "Field 3" }, { "x": 50, "y": 150, "data": "Field 4" } ] }
    ]
}
```